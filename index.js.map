{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.form-js'),\n  input: document.querySelector('.input-js'),\n  list: document.querySelector('.gallery-js'),\n  loader: document.querySelector('.loader'),\n};\n\nconst IS_HIDDEN = 'hidden';\n\nexport { refs, IS_HIDDEN };\n","import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport { refs, IS_HIDDEN } from './refs';\n\nconst fetchParams = {\n  BASE_URL: 'https://pixabay.com/api/',\n  API_KEY: '49692460-099fca5bd4b56e7d7d026f90d',\n  IMAGE_TYPE: 'photo',\n  ORIENTATION: 'horizontal',\n  SAFESEARCH: true,\n};\n\nconst { BASE_URL, API_KEY, IMAGE_TYPE, ORIENTATION, SAFESEARCH } = fetchParams;\n\nfunction fetchImages(query) {\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a valid search query!',\n    });\n    return Promise.resolve([]);\n  }\n  refs.loader.classList.remove(IS_HIDDEN);\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Error data: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return [];\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again!',\n      });\n      console.log(error);\n    })\n    .finally(() => {\n      refs.loader.classList.add(IS_HIDDEN);\n    });\n}\n\nexport default fetchImages;\n","function renderImages(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n    <p class=\"info-item\"><b>Views:</b> ${views}</p>\n    <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n    <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n  </div>\n</li>`\n    )\n    .join('');\n}\n\nexport default renderImages;\n","import 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './js/refs';\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\n\nconst { form, input, list } = refs;\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 300,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = input.value.trim();\n  list.innerHTML = '';\n  fetchImages(query)\n    .then(images => {\n      list.innerHTML = renderImages(images);\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["refs","IS_HIDDEN","fetchParams","BASE_URL","API_KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","fetchImages","query","response","data","iziToast","error","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","input","list","lightbox","SimpleLightbox","event"],"mappings":"6vBAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,MAAO,SAAS,cAAc,WAAW,EACzC,KAAM,SAAS,cAAc,aAAa,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAY,SCHZC,EAAc,CAClB,SAAU,2BACV,QAAS,qCACT,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEM,CAAE,SAAAC,EAAU,QAAAC,EAAS,WAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAY,EAAGL,EAEnE,SAASM,EAAYC,EAAO,CAC1B,OAAKA,GAOLT,EAAK,OAAO,UAAU,OAAOC,CAAS,EAC/B,MACL,GAAGE,CAAQ,QAAQC,CAAO,MAAMK,CAAK,eAAeJ,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,EACnH,EACE,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAElD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACM,IAEFD,EAAK,IACb,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACjB,CAAO,EACD,QAAQ,IAAIC,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbb,EAAK,OAAO,UAAU,IAAIC,CAAS,CACzC,CAAK,IApCDW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACf,CAAK,EACM,QAAQ,QAAQ,CAAA,CAAE,EAiC7B,CCrDA,SAASE,EAAaC,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,kCAEsBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yCAGvBC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA,MAGjD,EACA,KAAK,EAAE,CACZ,CCnBA,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,KAAAC,CAAI,EAAKzB,EACxB0B,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMnB,EAAQe,EAAM,MAAM,KAAI,EAC9BC,EAAK,UAAY,GACjBjB,EAAYC,CAAK,EACd,KAAKM,GAAU,CACdU,EAAK,UAAYX,EAAaC,CAAM,EACpCW,EAAS,QAAO,CACtB,CAAK,EACA,MAAMb,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC"}